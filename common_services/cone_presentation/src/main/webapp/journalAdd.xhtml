<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:a="http://richfaces.org/a4j" xmlns:r="http://richfaces.org/rich"
	template="layout/template.xhtml">
	
	<ui:define name="body">

		<h:form id="newJournalDetails">
		<r:panel id="journalAdd">
		<f:facet name="header">Add new Journal Name</f:facet>
			<h:panelGrid columns="2">
				<h:outputLabel for="issn2add" styleClass="outLabel"
									value="ISSN" />
				<h:inputText id="issn2add" label="ISSN" value="#{journalAdd.issn2add}"
					style="width: 100px;" required="true" >
					<f:validator validatorId="IssnValidator"/>
				</h:inputText>
				<h:outputLabel for="title2add" styleClass="outLabel"
									value="Title" />
				<h:inputText id="title2add" label="Title" value="#{journalAdd.title2add}"
					style="width: 300px;" required="true" />
				<h:outputLabel for="altTitles2add" styleClass="outLabel"
									value="Alternative Title(s)" />
				<h:dataTable id="altTitles2add" value="#{journalAdd.altTitles2add}" var="altTitle">
				<h:column>
				<h:inputText id="altTitle" value="#{altTitle}" style="width: 300px;" valueChangeListener="#{journalAdd.inputChanged}"/>
				</h:column>
				</h:dataTable>
				<h:outputLabel for="addAltTitle" styleClass="outLabel"
									value="" />
				<a:commandLink id="addAltTitle" value="add alternative title" 
					action="#{journalAdd.addAltTitle}" immediate="true" reRender="altTitles2add"/>
				<h:outputLabel for="subject2add" styleClass="outLabel"
									value="Subject" />
				<h:inputText id="subject2add" label="Subject" value="#{journalAdd.subject2add}"
					style="width: 300px;" required="true" />
				<h:outputLabel for="publisher2add" styleClass="outLabel"
									value="Publisher" />
				<h:inputText id="publisher2add" label="Publisher" value="#{journalAdd.publisher2add}"
					style="width: 300px;" required="true" />
				<h:outputLabel for="rights2add" styleClass="outLabel"
									value="Rights" />
				<h:inputText id="rights2add" label="Rights" value="#{journalAdd.rights2add}"
					style="width: 300px;" required="true" />
				<r:spacer height="15"/>
				<a:commandButton id="addNewJournal" value="Add New Journal"
					action="#{journalAdd.addNewJournal}" rendered="#{identity.loggedIn}"/>
			</h:panelGrid>
			</r:panel>
				<r:toolBar>
					<r:toolBarGroup>
						<h:outputText value="GO" />
						<h:commandLink id="footHome" immediate="true" value="BACK"
							action="#{navigation.loadJournalNames}" styleClass="" />
						<h:commandLink id="footBack" immediate="true" value="SEARCH"
							action="#{navigation.loadJournalSearch}" styleClass="" />
					</r:toolBarGroup>
				</r:toolBar>			
			<r:messages id="cone_messages" layout="list" showSummary="true" showDetail="true"/>
		</h:form>
	</ui:define>
</ui:composition>
