<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE urlrewrite PUBLIC "-//tuckey.org//DTD UrlRewrite 3.1//EN"
        "http://tuckey.org/res/dtds/urlrewrite3.1.dtd"><!--

    Configuration file for UrlRewriteFilter
    http://tuckey.org/urlrewrite/

-->
<urlrewrite use-query-string="true">

    <!-- 
    	Rules defined for CoNE 
    -->

	<rule>
		<name>Default explain</name>
		<from>^/explain/?$</from>
		<to>/html/explain/</to>
	</rule>

	<rule>
		<name>Output parameter style 1</name>
		<from casesensitive="false">^/(.+)\?output=([a-zA-Z0-9]+)$</from>
		<to>/$2/$1</to>
	</rule>

	<rule>
		<name>Output parameter style 2</name>
		<from casesensitive="false">^/(.+)\?output=([a-zA-Z0-9]+)&amp;(.+)$</from>
		<to>/$2/$1?$3</to>
	</rule>

	<rule>
		<name>Output parameter style 3</name>
		<from casesensitive="false">^/(.+)\?(.+)&amp;output=([a-zA-Z0-9]+)(.*)$</from>
		<to>/$3/$1?$2$4</to>
	</rule>

	<rule>
		<name>ID parameter style 1</name>
		<from casesensitive="false">^/(.+)\?id=([^&amp;]+)$</from>
		<to>/$1/$2</to>
	</rule>

	<rule>
		<name>ID parameter style 2</name>
		<from casesensitive="false">^/(.+)\?id=([^&amp;]+)&amp;(.+)$</from>
		<to>/$1/$2?$3</to>
	</rule>

	<rule>
		<name>ID parameter style 3</name>
		<from casesensitive="false">^/(.+)\?(.+)&amp;id=([^&amp;]+)(.*)$</from>
		<to>/$1/$3?$2$4</to>
	</rule>

	<rule>
		<name>Default action 1</name>
		<from>^/([a-zA-Z0-9]+)/(query|details|all)(.*)</from>
		<to>/html/$1/$2$3</to>
	</rule>

	<rule>
		<name>Default action 2</name>
		<from>^/([a-zA-Z0-9]+)/([a-zA-Z0-9]+:[a-zA-Z0-9:/\-\.]+)(\?.+)?$</from>
		<to>/html/$1/$2$3</to>
	</rule>

	<rule>
		<name>Default details</name>
		<from>^/([a-zA-Z0-9]+)/([a-zA-Z0-9]+)/([a-zA-Z0-9]+:[a-zA-Z0-9:/\-\.]+)(\?.+)?$</from>
		<to>/$1/$2/details/$3$4</to>
	</rule>

</urlrewrite>
