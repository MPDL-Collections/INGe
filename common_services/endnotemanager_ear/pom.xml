<?xml version="1.0"?>
<project>
 <parent>
  <artifactId>common_services</artifactId>
  <groupId>de.mpg.escidoc.services</groupId>
  <version>1.0</version>
 </parent>
 <modelVersion>4.0.0</modelVersion>
 <groupId>de.mpg.escidoc.services</groupId>
 <artifactId>endnotemanager_ear</artifactId>
 <name>endnotemanager_ear</name>
 <packaging>ear</packaging>
 <version>1.0-SNAPSHOT</version>

 <scm>
  <connection>scm:svn:http://zim02.gwdg.de/repos/common/trunk/common_services/endnotemanager_ear</connection>
  <developerConnection>scm:svn:http://zim02.gwdg.de/repos/pubman/trunk/common_services/endnotemanager_ear</developerConnection>
  <url>http://zim02.gwdg.de/repos/common/view.cvs</url>
 </scm>

 <build>
  <plugins>
   <plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-ear-plugin</artifactId>
    <configuration>
     <displayName>endnotemanager</displayName>
     <description>endnotemanager integration testing ear</description>
     <modules>
      <jarModule>
       <groupId>de.mpg.escidoc.services</groupId>
       <artifactId>framework_access</artifactId>
       <includeInApplicationXml>true</includeInApplicationXml>
      </jarModule>
      <jarModule>
       <groupId>axis</groupId>
       <artifactId>axis</artifactId>
       <includeInApplicationXml>true</includeInApplicationXml>
      </jarModule>
      <jarModule>
       <groupId>org.jibx</groupId>
       <artifactId>jibx-run</artifactId>
       <includeInApplicationXml>true</includeInApplicationXml>
      </jarModule>
      <jarModule>
       <groupId>stax</groupId>
       <artifactId>stax</artifactId>
       <includeInApplicationXml>true</includeInApplicationXml>
      </jarModule>
      <jarModule>
       <groupId>commons-discovery</groupId>
       <artifactId>commons-discovery</artifactId>
       <includeInApplicationXml>true</includeInApplicationXml>
      </jarModule>
      <ejbModule>
       <groupId>de.mpg.escidoc.services</groupId>
       <artifactId>common_logic</artifactId>
      </ejbModule>
      <ejbModule>
       <groupId>de.mpg.escidoc.services</groupId>
       <artifactId>endnotemanager</artifactId>
      </ejbModule>
     </modules>
    </configuration>
   </plugin>
   <plugin>
    <artifactId>maven-compiler-plugin</artifactId>
    <configuration>
     <source>1.5</source>
     <target>1.5</target>
    </configuration>
   </plugin>
   <plugin>
    <groupId>org.codehaus.cargo</groupId>
    <artifactId>cargo-maven2-plugin</artifactId>
   </plugin>
   <plugin>
    <artifactId>maven-compiler-plugin</artifactId>
    <executions>
     <execution>
      <phase>test-compile</phase>
      <goals>
       <goal>testCompile</goal>
      </goals>
     </execution>
    </executions>
   </plugin>
   <plugin>
    <artifactId>maven-resources-plugin</artifactId>
    <executions>
     <execution>
      <phase>process-test-resources</phase>
      <goals>
       <goal>testResources</goal>
      </goals>
     </execution>
    </executions>
   </plugin>
   <plugin>
    <artifactId>maven-surefire-plugin</artifactId>
    <configuration>
     <skip>true</skip>
    </configuration>
    <executions>
     <execution>
      <phase>integration-test</phase>
      <goals>
       <goal>test</goal>
      </goals>
      <configuration>
       <skip>false</skip>
       <test>EndnotemanagerServiceTest</test>
      </configuration>
     </execution>
    </executions>
   </plugin>
  </plugins>
 </build>

 <dependencies>
  <dependency>
   <groupId>junit</groupId>
   <artifactId>junit</artifactId>
   <version>4.1</version>
   <scope>test</scope>
  </dependency>
  <dependency>
   <groupId>de.mpg.escidoc.services</groupId>
   <artifactId>framework_access</artifactId>
   <version>1.3-SNAPSHOT</version>
   <scope>compile</scope>
  </dependency>
  <dependency>
   <groupId>de.mpg.escidoc.services</groupId>
   <artifactId>endnotemanager</artifactId>
   <version>1.0-SNAPSHOT</version>
   <scope>compile</scope>
   <type>ejb</type>
  </dependency>
  <dependency>
   <groupId>de.mpg.escidoc.services</groupId>
   <artifactId>common_logic</artifactId>
   <version>1.0-SNAPSHOT</version>
   <scope>compile</scope>
   <type>ejb</type>
  </dependency>
  <dependency>
   <groupId>xmlunit</groupId>
   <artifactId>xmlunit</artifactId>
   <version>1.0</version>
   <scope>test</scope>
  </dependency>
  <dependency>
   <groupId>jnpserver</groupId>
   <artifactId>jnpserver</artifactId>
   <version>4.0.5</version>
   <scope>test</scope>
  </dependency>
  <dependency>
   <groupId>jboss-common-client</groupId>
   <artifactId>jboss-common-client</artifactId>
   <version>4.0.5</version>
   <scope>test</scope>
  </dependency>
  <dependency>
   <groupId>jboss-aop-jdk50-client</groupId>
   <artifactId>jboss-aop-jdk50-client</artifactId>
   <version>4.0.5</version>
   <scope>test</scope>
  </dependency>
  <dependency>
   <groupId>jboss-aspect-library-jdk50</groupId>
   <artifactId>jboss-aspect-library-jdk50</artifactId>
   <version>4.0.5</version>
   <scope>test</scope>
  </dependency>
  <dependency>
   <groupId>jboss-remoting</groupId>
   <artifactId>jboss-remoting</artifactId>
   <version>4.0.5</version>
   <scope>test</scope>
  </dependency>
  <dependency>
   <groupId>jbosssx-client</groupId>
   <artifactId>jbosssx-client</artifactId>
   <version>4.0.5</version>
   <scope>test</scope>
  </dependency>
  <dependency>
   <groupId>jboss-transaction-client</groupId>
   <artifactId>jboss-transaction-client</artifactId>
   <version>4.0.5</version>
   <scope>test</scope>
  </dependency>
  <dependency>
   <groupId>concurrent</groupId>
   <artifactId>concurrent</artifactId>
   <version>4.0.5</version>
   <scope>test</scope>
  </dependency>
 </dependencies>

 <profiles>
  <profile>
   <id>jboss40</id>
   <build>
    <plugins>
     <plugin>
      <groupId>org.codehaus.cargo</groupId>
      <artifactId>cargo-maven2-plugin</artifactId>
      <version>0.3.1</version>
      <configuration>
       <wait>false</wait>
       <container>
        <containerId>jboss4x</containerId>
        <zipUrlInstaller>
         <url>http://escidoc1.escidoc.mpg.de/resources/jboss_4.0.5/jboss_4.0.5.zip</url>
         <installDir>${user.home}/jboss</installDir>
        </zipUrlInstaller>
       </container>
       <configuration>
        <home>${project.build.directory}/jboss/server</home>
        <properties>
         <!--        <cargo.jvmarg>${cargo.jvmarg}</cargo.jvmarg>
          <cargo.host>${cargo.host}</cargo.host>  -->
         <cargo.servlet.port>${cargo.port}</cargo.servlet.port>
         <cargo.rmi.port>${cargo.rmi.port}</cargo.rmi.port>
         <cargo.logging>${cargo.log}</cargo.logging>
        </properties>
       </configuration>
      </configuration>
      <executions>
       <execution>
        <id>start-container</id>
        <phase>pre-integration-test</phase>
        <goals>
         <goal>start</goal>
        </goals>
       </execution>
       <execution>
        <id>stop-container</id>
        <phase>post-integration-test</phase>
        <goals>
         <goal>stop</goal>
        </goals>
       </execution>
      </executions>
     </plugin>
    </plugins>
   </build>
  </profile>
  <profile>
   <id>jboss42</id>
   <build>
    <plugins>
     <plugin>
      <groupId>org.codehaus.cargo</groupId>
      <artifactId>cargo-maven2-plugin</artifactId>
      <version>0.3.1</version>
      <configuration>
       <wait>true</wait>
       <container>
        <containerId>jboss4x</containerId>
        <zipUrlInstaller>
         <url>http://heanet.dl.sourceforge.net/sourceforge/jboss/jboss-4.2.2.GA.zip</url>
         <installDir>${user.home}/jboss</installDir>
        </zipUrlInstaller>
       </container>
       <configuration>
        <home>${project.build.directory}/jboss/server</home>
        <properties>
         <!--        <cargo.jvmarg>${cargo.jvmarg}</cargo.jvmarg>
          <cargo.host>${cargo.host}</cargo.host>  -->
         <cargo.servlet.port>${cargo.port}</cargo.servlet.port>
         <cargo.rmi.port>${cargo.rmi.port}</cargo.rmi.port>
         <cargo.logging>${cargo.log}</cargo.logging>
         <cargo.jboss.configuration>default</cargo.jboss.configuration>
        </properties>
       </configuration>
      </configuration>
     </plugin>
     <plugin>
      <groupId>org.codehaus.mojo</groupId>
      <artifactId>jboss-maven-plugin</artifactId>
      <configuration>
       <hostName>${jboss.deploy.host}</hostName>
       <port>${jboss.deploy.port}</port>
      </configuration>
     </plugin>
    </plugins>
   </build>
  </profile>
 </profiles>
</project>
