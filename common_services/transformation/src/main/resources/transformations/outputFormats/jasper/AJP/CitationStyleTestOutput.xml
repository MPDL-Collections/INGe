<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<citation-style element-specific="no" md-xpath="//item/md-records/md-record" name="AJP"
                read-only="no">
    <variables>
        <variable name="isBookArticleOrChapter"
                  xpath="not(publication[@type='book-item' or @type='courseware-lecture' or @type='other' or @type='conference-paper' or @type='conference-report'])=false()"/>
        <variable name="isJournalOrMagazineArticle"
                  xpath="not(publication[@type='article' or @type='issue' or @type='paper' or @type='book-item' or @type='courseware-lecture' or @type='other' or @type='conference-paper' or @type='conference-report' or @type='book' or @type='thesis' or @type='proceedings' or @type='journal' or @type='series' or @type='talk-at-event'])=false()"/>
        <variable name="authorsCount" xpath="count(publication/creator[@role='author']/person)"/>
        <variable name="hasPublication" xpath="not(publication)=false()"/>
        <variable expression="${publication/published-online} != null ? ${publication/published-online} : ${publication/issued} != null ? ${publication/issued} : ${publication/dateAccepted} != null ? ${publication/dateAccepted} : ${publication/dateSubmitted} != null ? ${publication/dateSubmitted} : ${publication/modified} != null ? ${publication/modified} : ${publication/created} != null ? ${publication/created} : null"
                  name="date"/>
        <variable name="isBookProceedingsThesis"
                  xpath="not(publication[@type='book' or @type='thesis' or @type='proceedings' or @type='journal' or @type='series' or @type='talk-at-event'])=false()"/>
    </variables>
    <layout-elements>
        <layout-element name="authors-MoreThan2"
                        ref="publication/creator[@role='author']/person|organization"
                        repeatable="yes">
            <parameters position="last">
                <delimiter value=", and "/>
            </parameters>
            <elements position="last">
                <layout-element ref="given-name"/>
                <layout-element ref="family-name"/>
            </elements>
            <parameters>
                <ends-with value=", "/>
                <delimiter value=", "/>
            </parameters>
            <elements>
                <layout-element ref="given-name"/>
                <layout-element ref="family-name"/>
            </elements>
        </layout-element>
        <layout-element name="authors-Equal2"
                        ref="publication/creator[@role='author']/person|organization"
                        repeatable="yes">
            <parameters position="last">
                <delimiter value=" and "/>
            </parameters>
            <elements position="last">
                <layout-element ref="given-name"/>
                <layout-element ref="family-name"/>
            </elements>
            <parameters>
                <ends-with value=", "/>
                <delimiter value=", "/>
            </parameters>
            <elements>
                <layout-element ref="given-name"/>
                <layout-element ref="family-name"/>
            </elements>
        </layout-element>
        <layout-element name="authors"/>
    </layout-elements>
    <cs-layout-definition name="isNotPublication">
        <parameters>
            <valid-if><![CDATA[${hasPublication}.equals("false")]]></valid-if>
            <starts-with value="## Citaion style layout is not defined for metadata record: "/>
            <ends-with value=".\n\n"/>
        </parameters>
        <elements>
            <layout-element ref="../../@objid"/>
        </elements>
    </cs-layout-definition>
    <cs-layout-definition name="Article">
        <parameters>
            <valid-if><![CDATA[${publication/@type}.equals("article")]]></valid-if>
            <ends-with value="."/>
        </parameters>
        <elements>
            <layout-element ref="authors"/>
            <layout-element ref="publication/title">
                <parameters>
                    <starts-with value="&#34;"/>
                    <ends-with value=",&#34;"/>
                </parameters>
                <elements/>
            </layout-element>
            <layout-element name="SourceTitleVolumeIssuePhysicalDescriptionBlock"/>
            <layout-element ref="publication/issued">
                <parameters>
                    <starts-with value="("/>
                    <ends-with value=")"/>
                </parameters>
                <elements/>
            </layout-element>
        </elements>
    </cs-layout-definition>
</citation-style>