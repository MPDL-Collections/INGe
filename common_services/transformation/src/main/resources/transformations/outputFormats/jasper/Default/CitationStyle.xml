<?xml version="1.0" encoding="UTF-8"  ?>

<!--

  Defintition of citation styles

  @name - name of CitationStyle

-->

<citationStylesCollection name="Default">

  <citationStyle name="Default" element-specific="yes" readOnly="true">


    <!-- Print warning message for non-publication items -->
    <csLayoutDefinition name="isNotPublication">
    	<parameters>
    		<validIf><![CDATA[$F{publication}.equals("")]]></validIf>
    		<startsWith value="There are not citaion style layout for item: " />
    		<endsWith value=".\n\n" />
    	</parameters>
    	<elements>
    		<layoutElement ref="obji"/>
    	</elements>
    </csLayoutDefinition>

    <!-- Journal or Magazine Article -->
    <csLayoutDefinition name="JournalOrMagazineArticle">
        <parameters>
          <validIf><![CDATA[$F{genre}.equals("Article") || $F{genre}.equals("Issue") || $F{genre}.equals("Paper")]]></validIf>
          <endsWith value=".\n\n"/>
        </parameters>
        <elements>
           <layoutElement ref="genre">
            <parameters>
              <startsWith value="Genre: "/>
              <endsWith value="."/>
              <fontStyle ref="BOLD" />
            </parameters>
          </layoutElement>

          <!-- Variant with processing of last author -->
          <layoutElement ref="creators/person" repeatable="yes">

<!--             <parameters position="default">
              <internalDelimiter value=", "/>
              <delimiter value=", "/>
              <maxCount value="6"><![CDATA[et al.]]></maxCount>
            </parameters>
            <elements position="default">
              <layoutElement ref="creatorlastname"/>
              <layoutElement ref="creatorini"/>
            </elements>
 -->
            <parameters position="last">
              <internalDelimiter value=", "/>
              <delimiter value=",&amp; "/>
              <maxCount value="6"><![CDATA[et al.]]></maxCount>
            </parameters>
            <elements position="last">
              <layoutElement ref="creatorlastname"/>
              <layoutElement ref="creatorini" />
            </elements>
          </layoutElement>


          <layoutElement ref="date">
            <parameters>
              <startsWith value="("/>
              <endsWith value=")."/>
            </parameters>
          </layoutElement>
          <layoutElement ref="title">
            <parameters>
              <endsWith value="."/>
            </parameters>
          </layoutElement>



          <layoutElement ref="sourcetitle">
            <parameters>
              <fontStyle ref="ITALIC" />
              <endsWith value=","/>
            </parameters>
          </layoutElement>

          <layoutElement name="VOLUME_ISSUE">
           <parameters>
             <delimiter value=""/>
              <endsWith value=","/>
           </parameters>
           <elements>
             <layoutElement ref="volume">
               <parameters>
                 <fontStyle ref="ITALIC"/>
               </parameters>
             </layoutElement>
             <layoutElement ref="issue">
               <parameters>
                <startsWith value="("/>
                <endsWith value=")"/>
               </parameters>
             </layoutElement>
           </elements>
         </layoutElement>

         <layoutElement ref="physicaldescription"/>
      </elements>




      </csLayoutDefinition>

    <!-- Book -->

    <csLayoutDefinition name="Book">
      <parameters>
        <validIf><![CDATA[$F{genre}.equals("Book")||$F{genre}.equals("Habilitation")||$F{genre}.equals("PHD-Thesis")||$F{genre}.equals("Proceedings")||$F{genre}.equals("Journal")||$F{genre}.equals("Series")||$F{genre}.equals("Talk at Event")||$F{genre}.equals("Thesis")]]></validIf>
        <endsWith value=".\n\n"/>
      </parameters>
      <elements>
        <layoutElement ref="genre">
          <parameters>
            <startsWith value="Genre: "/>
            <endsWith value="."/>
            <fontStyle ref="BOLD" />
          </parameters>
        </layoutElement>

        <layoutElement ref="creators/person" repeatable="yes">
           <parameters>
              <internalDelimiter value=", "/>
              <delimiter value=", "/>
              <maxCount value="6"><![CDATA[et al.]]></maxCount>
          </parameters>
          <elements>
            <layoutElement ref="creatorlastname"/>
            <layoutElement ref="creatorini"/>
              <parameters>
                <startsWith value=", "/>
              </parameters>
          </elements>
        </layoutElement>
        <layoutElement ref="date">
          <parameters>
            <startsWith value="("/>
            <endsWith value=")."/>
          </parameters>
        </layoutElement>
        <layoutElement ref="title">
          <parameters>
            <endsWith value="."/>
            <fontStyle ref="ITALIC" />
          </parameters>
        </layoutElement>
        <layoutElement name="PUBLISHER">
          <parameters>
            <delimiter value=": "/>
          </parameters>
          <elements>
            <layoutElement ref="publisheraddress"/>
            <layoutElement ref="publishername"/>
          </elements>
        </layoutElement>
      </elements>
    </csLayoutDefinition>

    <!-- Book Article or Chapter -->

    <csLayoutDefinition name="BookArticleOrChapter">
      <parameters>
        <validIf><![CDATA[$F{genre}.equals("InBook")|| $F{genre}.equals("Interactive Resource")|| $F{genre}.equals("Lecture / Courseware")|| $F{genre}.equals("Other")|| $F{genre}.equals("Software") || $F{genre}.equals("Conference-Paper") || $F{genre}.equals("Report")]]></validIf>
        <endsWith value=".\n\n"/>
      </parameters>
      <elements>
        <layoutElement ref="genre">
          <parameters>
            <startsWith value="Genre: "/>
            <endsWith value="."/>
            <fontStyle ref="BOLD" />
          </parameters>
        </layoutElement>
        <layoutElement ref="creators/person" repeatable="yes">
          <parameters>
              <internalDelimiter value=", "/>
              <delimiter value=", "/>
              <maxCount value="6"><![CDATA[et al.]]></maxCount>
          </parameters>
          <elements>
            <layoutElement ref="creatorlastname"/>
            <layoutElement ref="creatorini"/>
              <parameters>
                <startsWith value=", "/>
              </parameters>
          </elements>
        </layoutElement>
        <layoutElement ref="date">
          <parameters>
            <startsWith value="("/>
            <endsWith value=")."/>
          </parameters>
        </layoutElement>
        <layoutElement ref="title">
          <parameters>
            <endsWith value="."/>
          </parameters>
        </layoutElement>


        <layoutElement ref="source/sourcecreators/person" repeatable="yes">
          <parameters>
<!--             <validIf><![CDATA[$F{sourcecreatorfullname}!=null]]></validIf> -->
            <startsWith value="In "/>
            <delimiter value="; "/>
            <endsWith value=" (Ed.),"/>
          </parameters>
          <elements>
            <layoutElement ref="creatorfullname"/>
          </elements>
        </layoutElement>


        <layoutElement ref="sourcetitle">
          <parameters>
            <fontStyle ref="ITALIC" />
            <endsWith value=","/>
          </parameters>
        </layoutElement>

        <layoutElement name="VOLUME_ISSUE2">
          <parameters>
            <delimiter value=", "/>
            <endsWith value=")."/>
            <startsWith value="("/>
          </parameters>
          <elements>
            <layoutElement ref="volume">
              <parameters>
                <endsWith value=" ed."/>
              </parameters>
            </layoutElement>
            <layoutElement ref="physicaldescription">
              <parameters>
                <startsWith value="pp. "/>
              </parameters>
            </layoutElement>
          </elements>
        </layoutElement>


        <layoutElement name="PUBLISHER">
          <parameters>
            <delimiter value=": "/>
          </parameters>
          <elements>
            <layoutElement ref="publisheraddress"/>
            <layoutElement ref="publishername"/>
          </elements>
        </layoutElement>
      </elements>
    </csLayoutDefinition>
  </citationStyle>


</citationStylesCollection>